<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap JS Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
    <!-- Bootstrap Icons for Filter -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css"
    />
    <link href="CSS/style.css" rel="stylesheet" />

    <link href="CSS/exportcss.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
    />
  </head>
  <body>
    <div class="d-flex">
      <div class="sidebar bg-dark" id="sidebar">
        <button class="close-btn d-lg-none" onclick="toggleSidebar()">×</button>
        <h2 class="p-3">Admin Panel</h2>
        <a
          href="#"
          class="d-flex justify-content-between align-items-center"
          onclick="toggleSubmenu('submenu-users')"
          >Users <span>+</span></a
        >
        <div class="submenu" id="submenu-users">
          <a href="#">View Venders</a>
          <a href="#">View Users</a>
        </div>
        <a
          href="#"
          class="d-flex justify-content-between align-items-center"
          onclick="toggleSubmenu('submenu-exports')"
          >Exports <span>+</span></a
        >
        <div class="submenu" id="submenu-exports">
          <a href="#" onclick="showExportForm()">Add Export</a>
          <a href="#" onclick="showExportList()">View Exports</a>
        </div>

        <a
          href="#"
          class="d-flex justify-content-between align-items-center"
          onclick="toggleSubmenu('submenu-industrial')"
        >
          Industrial Services <span>+</span>
        </a>
        <div class="submenu" id="submenu-industrial">
          <!-- <a href="#" onclick="showAddServiceForm(); return false;"
            >Add Service</a
          >
          <a href="#" onclick="showAllServices(); return false;"
            >Show Services</a
          > -->
        </div>

        <a
          href="#"
          class="d-flex justify-content-between align-items-center"
          onclick="toggleSubmenu('submenu-transport')"
          >Transport Logistic <span>+</span></a
        >
        <div class="submenu" id="submenu-transport">
          <!-- <a href="#">Add Transport</a> -->
          <!-- <a href="#">View Transport</a> -->
        </div>

        <a
          href="#"
          class="d-flex justify-content-between align-items-center"
          onclick="toggleSubmenu('submenu-event')"
          >Event <span>+</span></a
        >
        <div class="submenu" id="submenu-event">
          <a href="#" onclick="showAddEventForm(); return false;">Add Event</a>
          <a href="#" onclick="showAllEvents(); return false;">Show Events</a>
        </div>
        <a
          href="#"
          class="d-flex justify-content-between align-items-center"
          onclick="toggleSubmenu('submenu-canteen')"
          >Canteen Services <span>+</span></a
        >
        <div class="submenu" id="submenu-canteen">
          <a href="#">Add Service</a>
          <a href="#">View Services</a>
        </div>

        <a
          href="#"
          class="d-flex justify-content-between align-items-center"
          onclick="toggleSubmenu('submenu-career')"
          >Career <span>+</span></a
        >
        <div class="submenu" id="submenu-career">
          <a href="#" onclick="showAddJobForm(); return false;">Add Job</a>
          <a href="#" onclick="showAllJobs(); return false;">View Jobs</a>
        </div>
      </div>
    </div>

    <div class="main-content flex-grow-1" id="main-content">
      <div class="header">
        <button
          class="btn btn-outline-dark d-lg-none"
          onclick="toggleSidebar()"
        >
          ☰
        </button>
        <div class="user-menu">
          <span class="me-2">Shrutika Tayade</span>
          <a href="#" class="btn btn-primary ms-3" onclick="toggleUserMenu()">
            <img
              src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
              width="24"
              alt="Login"
            />
          </a>
          <div class="user-dropdown" id="userDropdown">
            <button
              class="btn btn-primary w-100 mb-2"
              onclick="showLoginForm()"
            >
              Sign In
            </button>
            <button class="btn btn-secondary w-100">Sign Up</button>
          </div>
        </div>
      </div>

      <!-- Welcome Section -->
      <div class="p-4 section-container" id="welcome-section">
        <h1>Welcome to Indrajay Enterprises</h1>
      </div>

      <div class="p-4 section-container" id="login-form" style="display: none">
        <h2>Login</h2>
        <form>
          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control" id="username" required />
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input
              type="password"
              class="form-control"
              id="password"
              required
            />
          </div>
          <button type="submit" class="btn btn-primary">Login</button>
        </form>
      </div>

      <div id="export-sections">
        <div
          class="p-4 section-container"
          id="export-form"
          style="display: none"
        >
          <h2>Add Export</h2>
          <form
            id="exportForm"
            enctype="multipart/form-data"
            onsubmit="addExport(event)"
          >
            <div class="mb-3">
              <label for="name" class="form-label">Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                required
                name="name"
              />
            </div>
            <div class="mb-3">
              <label for="category" class="form-label">Category</label>
              <select
                class="form-select"
                name="category"
                id="category"
                required
              >
                <option value="" selected disabled>Select a category</option>
                <option value="Grains & Cereals">Grains & Cereals</option>
                <option value="Oil Seeds">Oil Seeds</option>
                <option value="Pulses">Pulses</option>
                <option value="Spises">Spises</option>
                <option value="Fruits and Vegetables">
                  Fruits and Vegetables
                </option>
                <option value="Sugar">Sugar</option>
                <option value="Jaggery">Jaggery</option>
                <option value="Coffee and Cocoa">Coffee and Cocoa</option>
                <option value="Coconut">Coconut</option>
                <option value="Nuts & Dry Fruits">Nuts & Dry Fruits</option>
                <option value="Chemicals">Chemicals</option>
                <option value="Wooden Pallets">Wooden Pallets</option>
                <option value="Packing Materials">Packing Materials</option>
                <option value="Appearals & Garments">
                  Appearals & Garments
                </option>
              </select>
            </div>
            <div class="mb-3">
              <label for="description" class="form-label">Description</label>
              <textarea
                class="form-control"
                id="description"
                rows="3"
                required
                name="description"
              ></textarea>
            </div>
            <div class="mb-3">
              <label for="image" class="form-label">Image</label>
              <input type="file" id="image" accept="image/*" required />
              <small class="text-muted"
                >Max size: 5MB | Formats: JPEG, JPG, PNG</small
              >
            </div>
            <button type="submit" class="btn btn-primary">Add Export</button>
          </form>
          <div
            id="exportMessage"
            class="mt-3"
            style="display: none; color: green"
          >
            Export added successfully!
          </div>
        </div>

        <div
          class="p-4 section-container"
          id="export-list"
          style="display: none"
        >
          <div class="d-flex justify-content-between align-items-center">
            <h2>View Exports</h2>
            <div class="d-flex gap-2">
              <!-- Sort Button -->
              <button id="sortByCategoryBtn" class="btn btn-outline-dark">
                <i class="bi bi-arrow-down-up"></i> Sort
              </button>

              <!-- Filter Dropdown -->
              <div class="dropdown">
                <button
                  class="btn btn-outline-dark dropdown-toggle"
                  type="button"
                  id="filterDropdown"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  <i class="bi bi-funnel"></i> Filter
                </button>
                <ul
                  class="dropdown-menu dropdown-menu-end"
                  aria-labelledby="filterDropdown"
                >
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="filterExports('all')"
                      >All Categories</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="filterExports('Grains & Cereals')"
                      >Grains & Cereals</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="filterExports('Oil Seeds')"
                      >Oil Seeds</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="filterExports('Pulses')"
                      >Pulses</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <table class="table">
            <thead>
              <tr>
                <th>Sr. No.</th>
                <th>Name</th>
                <th>Image</th>
                <th style="text-align: center">Action</th>
              </tr>
            </thead>
            <tbody id="exportTableBody">
              <!-- Dynamic rows will be added here -->
            </tbody>
          </table>
        </div>
      </div>

      <!--Career section-->

      <!-- Add Job Form -->

      <div id="career-sections">
        <div
          class="p-4 section-container"
          id="add-job-form"
          style="display: none"
        >
          <h2>Add Job</h2>
          <form id="jobForm">
            <div class="mb-3">
              <label for="position" class="form-label">Position</label>
              <input type="text" class="form-control" id="position" required />
            </div>
            <div class="mb-3">
              <label for="domain" class="form-label">Domain</label>
              <input type="text" class="form-control" id="domain" required />
            </div>
            <div class="mb-3">
              <label for="experience" class="form-label">Experience</label>
              <input
                type="text"
                class="form-control"
                id="experience"
                required
              />
            </div>
            <div class="mb-3">
              <label for="jobDescription" class="form-label"
                >Job Description</label
              >
              <textarea
                class="form-control"
                id="jobDescription"
                rows="3"
                required
              ></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Add Job</button>
          </form>
          <div id="jobMessage" class="mt-3" style="display: none; color: green">
            Job added successfully!
          </div>
        </div>

        <!-- All Jobs Table -->
        <div class="p-4 section-container" id="all-jobs" style="display: none">
          <h2>All Jobs</h2>
          <table class="table">
            <thead>
              <tr>
                <th>Sr. No.</th>
                <th>Position</th>
                <th>Domain</th>
                <th>Experience</th>
                <th style="text-align: center">Action</th>
              </tr>
            </thead>
            <tbody id="jobsTableBody">
              <!-- Dynamic rows will be added here -->
            </tbody>
          </table>
        </div>

        <!-- Edit Job Form (hidden by default) -->
        <div
          class="p-4 section-container"
          id="edit-job-form"
          style="display: none"
        >
          <h2>Edit Job</h2>
          <form id="editJobForm" onsubmit="updateJob(event)">
            <input type="hidden" id="editJobId" />
            <div class="mb-3">
              <label for="editPosition" class="form-label">Position</label>
              <input
                type="text"
                class="form-control"
                id="editPosition"
                required
              />
            </div>
            <div class="mb-3">
              <label for="editDomain" class="form-label">Domain</label>
              <input
                type="text"
                class="form-control"
                id="editDomain"
                required
              />
            </div>
            <div class="mb-3">
              <label for="editExperience" class="form-label">Experience</label>
              <input
                type="text"
                class="form-control"
                id="editExperience"
                required
              />
            </div>
            <div class="mb-3">
              <label for="editJobDescription" class="form-label"
                >Job Description</label
              >
              <textarea
                class="form-control"
                id="editJobDescription"
                rows="3"
                required
              ></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Update Job</button>
            <button
              type="button"
              class="btn btn-secondary"
              onclick="cancelEdit()"
            >
              Cancel
            </button>
          </form>
        </div>
      </div>

      <!--..................................Event tab-->

      <!-- Add Event Form -->
      <!-- Add Event Form -->
      <div
        class="p-4 section-container"
        id="add-event-form"
        style="display: none"
      >
        <h2 class="mb-4">Add New Event</h2>
        <form id="eventForm" onsubmit="addEvent(event)">
          <div class="mb-3">
            <label for="eventName" class="form-label">Event Name</label>
            <input type="text" class="form-control" id="eventName" required />
          </div>
          <div class="mb-3">
            <label for="venue" class="form-label">Venue</label>
            <input type="text" class="form-control" id="venue" required />
          </div>
          <div class="mb-3">
            <label for="timeDate" class="form-label">Time & Date</label>
            <input
              type="datetime-local"
              class="form-control"
              id="timeDate"
              required
            />
          </div>
          <div class="mb-3">
            <label for="category" class="form-label">Category</label>
            <select class="form-select" id="categoryInput" required>
              <option value="">Select Category</option>
              <option value="Corporate Event">Corporate Events</option>
              <option value="Social Event">Social Events</option>
              <option value="Sports Event">Sports Events</option>
              <option value="Cultural Event">Cultural Events</option>
              <option value="Educational Event">Educational Events</option>
              <option value="Entertainment Event">Entertainment Events</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="eventDescription" class="form-label">Description</label>
            <textarea
              class="form-control"
              id="eventDescription"
              rows="4"
              required
            ></textarea>
          </div>
          <div class="mb-3">
            <label for="eventImage" class="form-label">Event Image</label>
            <input type="file" class="form-control" id="eventImage" required />
          </div>

          <div class="d-flex justify-content-between mt-4">
            <button type="submit" class="btn btn-success px-4">
              <i class="bi bi-calendar-plus"></i> Save Event
            </button>
            <button
              type="button"
              class="btn btn-outline-secondary"
              onclick="showAllEvents()"
            >
              <i class="bi bi-list-ul"></i> View All Events
            </button>
          </div>
        </form>
        <div
          id="eventMessage"
          class="mt-3 alert alert-success"
          style="display: none"
        ></div>
      </div>

      <!-- All Events Table -->
      <div class="section-container" id="all-events" style="display: none">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h2>Event Management</h2>
          <button class="btn btn-primary" onclick="showAddEventForm()">
            <i class="bi bi-plus-circle"></i> Add New Event
          </button>
        </div>

        <div class="card shadow-sm">
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead class="table-light">
                  <tr>
                    <th>Event Name</th>
                    <th>Venue</th>
                    <th>Category</th>
                    <th class="text-center">Actions</th>
                  </tr>
                </thead>
                <tbody id="eventsTableBody">
                  <!-- Dynamic content will be inserted here -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Industrial Services Sections -->
      <div id="industrial-services-sections">
        <!-- Add Service Form -->
        <div
          class="p-4 section-container"
          id="add-service-form"
          style="display: none"
        >
          <h2 class="mb-4">Add New Service</h2>
          <form
            id="serviceForm"
            onsubmit="addService(event)"
            enctype="multipart/form-data"
          >
            <div class="mb-3">
              <label for="serviceName" class="form-label">Service Name</label>
              <input
                type="text"
                class="form-control"
                id="serviceName"
                required
              />
            </div>
            <div class="mb-3">
              <label for="serviceDescription" class="form-label"
                >Description</label
              >
              <textarea
                class="form-control"
                id="serviceDescription"
                rows="4"
                required
              ></textarea>
            </div>
            <div class="mb-3">
              <label for="serviceImage" class="form-label">Service Image</label>
              <input
                type="file"
                class="form-control"
                id="serviceImage"
                accept="image/*"
                required
              />
              <div class="form-text">
                Max size: 5MB | Formats: JPEG, JPG, PNG
              </div>
            </div>
            <div class="d-flex justify-content-between mt-4">
              <button type="submit" class="btn btn-success px-4">
                <i class="bi bi-save"></i> Save Service
              </button>
              <button
                type="button"
                class="btn btn-outline-secondary"
                onclick="showAllServices()"
              >
                <i class="bi bi-list-ul"></i> View Services
              </button>
            </div>
          </form>
          <div
            id="serviceMessage"
            class="mt-3 alert alert-success"
            style="display: none"
          ></div>
        </div>

        <!-- All Services Table -->
        <div
          class="p-4 section-container"
          id="all-services"
          style="display: none"
        >
          <div class="d-flex justify-content-between align-items-center mb-4">
            <h2>Industrial Services</h2>
            <button class="btn btn-primary" onclick="showAddServiceForm()">
              <i class="bi bi-plus-circle"></i> Add New Service
            </button>
          </div>

          <div class="card shadow-sm">
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead class="table-light">
                    <tr>
                      <th>Sr no</th>
                      <th>Service Name</th>
                      <th class="text-end">Actions</th>
                    </tr>
                  </thead>
                  <tbody id="servicesTableBody">
                    <!-- Dynamic content will be inserted here -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Service Details Modal -->
      <div
        class="modal fade"
        id="serviceDetailsModal"
        tabindex="-1"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="serviceModalTitle">
                Service Details
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body" id="serviceModalBody">
              <!-- Details will be inserted here -->
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" id="editServiceBtn">
                <i class="bi bi-pencil"></i> Edit
              </button>
              <button
                type="button"
                class="btn btn-danger"
                id="deleteServiceBtn"
              >
                <i class="bi bi-trash"></i> Delete
              </button>
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                <i class="bi bi-x"></i> Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- popup msg -->

    <!-- Popup for Confirmation and Result Message -->
    <div id="popup" class="popup">
      <div class="popup-content">
        <p id="popupMessage"></p>
        <button id="okayButton" onclick="confirmAction()">Okay</button>
        <button id="cancelButton" onclick="closePopup()">Cancel</button>
      </div>
    </div>

    <!-- popup for career jobs -->
    <div id="deletePopup" class="popup" style="display: none">
      <div class="popup-content">
        <span>Are you sure you want to delete this job?</span><br /><br />
        <button id="careerokayButton">Okay</button>
        <button id="careercancelButton">Cancel</button>
      </div>
    </div>

    <!-- popup msg -->
    <script src="JS/industryservices.js"></script>
    <script src="JS/exportjs.js"></script>
    <script src="JS/script.js"></script>
    <script src="JS/eventscript.js"></script>
  </body>
</html>
